name: Codecov

on:
    push:
        branches: [master]
        paths:
            - ".github/workflows/coverage.yml"
            - "tests/*.py"
            - "sonar-project.properties"
    pull_request:
        branches: [master]

permissions:
    contents: read

jobs:
    code-coverage:
        uses: Nicconike/Steam-Stats/.github/workflows/coverage.yml@master
        with:
            use_playwright: false
        secrets:
            CODECOV_TOKEN: ${{ secrets.CODECOV_TOKEN }}
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
            SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
            INPUT_WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}
